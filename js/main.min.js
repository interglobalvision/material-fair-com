Site={mobileThreshold:601,$body:$("body"),init:function(){var i=this;$(window).resize(function(){i.onResize()}),Site.$body.hasClass("post-type-archive-press")&&i.Press.init(),Site.$body.hasClass("post-type-archive-event")&&i.Program.init(),i.Mailchimp.init(),$(".js-menu-trigger").on("click",function(){$("#main-menu").slideToggle(400),$(".menu-toggle").toggleClass("open")})},onResize:function(){},fixWidows:function(){$(".js-fix-widows").each(function(){var i=$(this).html();i=i.replace(/ ([^ ]*)$/,"&nbsp;$1"),$(this).html(i)})}},Site.Mailchimp={$mailchimpForm:$("#mailchimp-form"),init:function(){var i=this;i.$submitButton=this.$mailchimpForm.find('input[type="submit"]'),i.$emailInput=this.$mailchimpForm.find('input[type="email"]'),i.$mailchimpForm.length&&i.bindSubmit()},bindSubmit:function(){var i=this;i.$submitButton.on("click",function(e){e.preventDefault(),i.$submitButton.prop("disabled",!0),i.validateEmail(i.$emailInput.val())?i.mailchimpAjax(i.$mailchimpForm):i.printResponse("invalid-email")})},validateEmail:function(i){var e=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/,t=e.test(i);return!!t},mailchimpAjax:function(i){var e=this;$.ajax({type:i.attr("method"),url:i.attr("action"),data:i.serialize(),cache:!1,dataType:"jsonp",jsonp:"c",contentType:"application/json; charset=utf-8",error:function(i){e.printResponse("server-error")},success:function(i){"success"!=i.result?e.printResponse("invalid-email"):e.printResponse("success")}})},printResponse:function(i){var e=this,t=$("#mailchimp-response");switch(i){case"invalid-email":"es"===currentLang?t.html("Tu correo está raro...inténtalo de nuevo"):t.html("Your email is weird...try again");break;case"server-error":"es"===currentLang?t.html("Parece que el servidor no funciona :("):t.html("Looks like the server is down :(");break;case"success":"es"===currentLang?t.html("¡Exito! Muchas gracias :)"):t.html("Success! Thanks a lot :)")}e.$submitButton.prop("disabled",!1),e.$emailInput.val("")}},Site.Press={init:function(){var i=this;$(".swiper-slide").length&&i.photoGallery()},photoGallery:function(){var i=this;i.mySwiper=new Swiper(".swiper-container",{speed:400,spaceBetween:100,nextButton:".swiper-button-next",prevButton:".swiper-button-prev",loop:!0}),i.sizePhotoSlides()},sizePhotoSlides:function(){var i=$(".swiper-container").height();$(".swiper-slide").each(function(){if($(this).find(".slide-caption").length){var e=i-$(this).find(".slide-caption").outerHeight(!0);$(this).find("img").css("max-height",e+"px")}else $(this).find("img").css("max-height",i+"px")})}},Site.Program={init:function(){var i=this;$(".calendar-day").length&&i.calendarAccordion()},calendarAccordion:function(){$(".calendar-heading").on("click",function(){var i=$(this).next(".calendar-events");if($(this).hasClass("active"))i.stop().animate({height:0},200),$(this).removeClass("active");else{var e=i.css("height","auto").outerHeight();i.css("height",0),i.stop().animate({height:e},200),$(this).addClass("active")}})}},jQuery(document).ready(function(){"use strict";Site.init()});
//# sourceMappingURL=/main.min.js.map